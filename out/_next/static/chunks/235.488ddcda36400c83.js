"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{6235:function(e,t,a){a.r(t),a.d(t,{default:function(){return n}});var l=a(57437),i=a(2265),s=a(63297);function r(e){let{resume:t,template:a,mode:s="mini"}=e,r=(0,i.useRef)(null),n=(0,i.useRef)(null),[o,c]=(0,i.useState)(14);return(0,i.useEffect)(()=>{if("full"===s)return;let e=r.current,t=n.current;if(!e||!t)return;let a=14;t.style.fontSize=a+"px",setTimeout(()=>{let l=0;for(;t.scrollHeight>e.clientHeight&&a>4&&l<100;)a-=.2,t.style.fontSize=a+"px",l++;c(a)},200)},[t,s]),(0,l.jsx)("div",{ref:r,className:"flex justify-center items-start bg-transparent rounded-xl",style:"mini"===s?{width:"360px",height:"520px",padding:"10px",overflow:"hidden",marginLeft:"-40px"}:{width:"800px",height:"100%",padding:"40px",overflowY:"auto",marginLeft:"-60px"},children:(0,l.jsxs)("div",{ref:n,className:"bg-white text-black rounded-xl p-8 shadow-md",style:{width:"100%",lineHeight:"1.5",fontSize:"".concat(o,"px"),transition:"font-size 0.2s ease"},children:[(0,l.jsx)("h1",{className:"text-center font-bold uppercase mb-4 text-blue-700",style:{fontSize:"".concat(o+6,"px")},children:t.name||"Your Name"}),(0,l.jsxs)("p",{className:"text-center mb-6 text-gray-600",style:{fontSize:"".concat(o-1,"px")},children:[t.email||"your@email.com"," |"," ",t.phone||"(123) 456-7890"]}),(0,l.jsx)("h2",{className:"font-semibold mb-2 text-blue-700",style:{fontSize:"".concat(o+1,"px")},children:"Summary"}),(0,l.jsx)("p",{className:"text-gray-800 mb-4 whitespace-pre-line",children:t.summary||"Write a short summary about yourself."}),(0,l.jsx)("h2",{className:"font-semibold mb-2 text-blue-700",style:{fontSize:"".concat(o+1,"px")},children:"Experience"}),(0,l.jsx)("p",{className:"text-gray-800 mb-4 whitespace-pre-line",children:t.experience||"List your work experience here."}),(0,l.jsx)("h2",{className:"font-semibold mb-2 text-blue-700",style:{fontSize:"".concat(o+1,"px")},children:"Education"}),(0,l.jsx)("p",{className:"text-gray-800 mb-4 whitespace-pre-line",children:t.education||"Mention your education details."}),(0,l.jsx)("h2",{className:"font-semibold mb-2 text-blue-700",style:{fontSize:"".concat(o+1,"px")},children:"Skills"}),(0,l.jsx)("p",{className:"text-gray-800 whitespace-pre-line",children:t.skills||"List your professional skills."})]})})}function n(e){let{template:t,country:a,role:n}=e,[o,c]=(0,i.useState)({name:"",email:"",phone:"",summary:"",experience:"",education:"",skills:""}),[d,m]=(0,i.useState)(0),[x,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),f=(0,i.useRef)(null),y=Object.keys(o);async function g(e,t){try{var a;let l=await fetch("http://127.0.0.1:11434/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"mistral",prompt:e,stream:!0})}),i=null===(a=l.body)||void 0===a?void 0:a.getReader();if(!i)throw Error("No reader");let s=new TextDecoder,r="";for(;;){let{done:e,value:a}=await i.read();if(e)break;for(let e of s.decode(a).split("\n").filter(Boolean))try{let a=JSON.parse(e);a.response&&(r+=a.response,t(r))}catch(a){r+=e,t(r)}}}catch(e){console.error("Ollama error:",e),alert("Make sure Ollama is running locally!")}}let b=async()=>{let e=y[d];if(["name","email","phone"].includes(e))return;u(!0);let t="Give ONLY the ".concat(e," text for a ").concat(n," resume in ").concat(a,'. \nNo titles, no labels, no "Summary:", no "Experience:", just the plain paragraph or bullet list. \nKeep it realistic, concise, and ATS-optimized.');await g(t,t=>c(a=>({...a,[e]:t}))),u(!1)},w=e=>{let t=y[d];c(a=>({...a,[t]:e}))},j=y[d],v=!["name","email","phone"].includes(j);return(0,l.jsx)("div",{className:"flex justify-center w-full bg-gray-900",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start w-full max-w-7xl gap-8 px-4 py-8",style:{minHeight:"90vh"},"data-html2canvas-ignore":"true",children:[(0,l.jsxs)(s.E.div,{className:"p-6 bg-white/5 rounded-2xl backdrop-blur-lg border border-white/10 flex flex-col justify-between shadow-lg w-full md:w-[42%] h-[65vh] overflow-hidden",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold mb-1 bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:["Resume Builder (",a,")"]}),(0,l.jsx)("p",{className:"text-gray-400 text-sm mb-5",children:"Please enter details step by step. You can use AI Suggest to auto-generate content."}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 capitalize text-gray-300",children:j}),(0,l.jsx)("textarea",{value:o[j],onChange:e=>w(e.target.value),rows:"summary"===j?5:3,placeholder:"Enter your ".concat(j,"..."),className:"w-full p-4 rounded-xl bg-white/10 text-white border border-white/10 focus:border-cyan-400 focus:outline-none resize-none mb-3"}),v&&(0,l.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,disabled:x,className:"px-5 py-2 rounded-xl bg-gradient-to-r from-fuchsia-500 to-cyan-500 text-sm font-semibold text-white",children:x?"Generating...":"AI Suggest"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,l.jsx)("button",{onClick:()=>d>0&&m(d-1),disabled:0===d,className:"px-5 py-2 rounded-lg text-sm transition-all ".concat(0===d?"bg-gray-700 cursor-not-allowed opacity-50":"bg-gradient-to-r from-gray-600 to-gray-500 hover:from-gray-500 hover:to-gray-400"),children:"Back"}),(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:["Step ",d+1," of ",y.length]}),(0,l.jsx)("button",{onClick:()=>d<y.length-1&&m(d+1),disabled:d===y.length-1,className:"px-5 py-2 rounded-lg text-sm transition-all ".concat(d===y.length-1?"bg-gray-700 cursor-not-allowed opacity-50":"bg-gradient-to-r from-cyan-500 to-fuchsia-500 hover:from-cyan-400 hover:to-fuchsia-400"),children:"Next"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col justify-start items-center w-full md:w-[56%] py-8",children:[(0,l.jsx)(s.E.div,{id:"resume-preview",ref:f,className:"bg-white shadow-2xl rounded-md border border-gray-300",style:{width:"760px",minHeight:"600px",maxHeight:"80vh",padding:"40px",overflowY:"auto",overflowX:"hidden",boxSizing:"border-box"},initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},children:(0,l.jsx)(r,{resume:o,template:t,mode:"full"})}),(0,l.jsx)("button",{onClick:()=>p(!0),className:"mt-6 px-8 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-fuchsia-500 text-white font-semibold hover:from-cyan-400 hover:to-fuchsia-400 transition-all",children:"Preview"})]}),h&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/80 flex justify-center items-center z-50 p-4 md:p-6 lg:p-8",children:(0,l.jsxs)(s.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"bg-white rounded-2xl shadow-2xl relative w-full max-w-3xl mx-auto",style:{maxHeight:"90vh",overflow:"hidden"},children:[(0,l.jsx)("button",{onClick:()=>p(!1),className:"absolute top-3 right-4 text-gray-500 text-2xl font-light hover:text-gray-800 transition-colors z-10",style:{lineHeight:1},children:"\xd7"}),(0,l.jsx)("div",{className:"overflow-y-auto px-6 py-10 md:px-8 md:py-12 lg:px-10 lg:py-14",style:{maxHeight:"calc(90vh - 2rem)",paddingTop:"3rem"},children:(0,l.jsx)("div",{className:"mx-auto",style:{maxWidth:"210mm"},children:(0,l.jsx)(r,{resume:o,template:t,mode:"full"})})})]})})]})})}}}]);