"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{6235:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var l=a(7437),r=a(2265),n=a(4133),s=a(1690),i=a.n(s);function o(e){let{resume:t,template:a}=e;return(0,l.jsxs)("div",{id:"resume-preview",className:"bg-white text-black rounded-lg p-8 min-h-full shadow-xl font-sans",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-center mb-2",children:t.name}),(0,l.jsxs)("p",{className:"text-center text-gray-600 text-sm mb-6",children:[t.email&&"".concat(t.email," • "),t.phone&&"".concat(t.phone)]}),(0,l.jsx)(c,{title:"Professional Summary",text:t.summary}),(0,l.jsx)(c,{title:"Experience",text:t.experience}),(0,l.jsx)(c,{title:"Education",text:t.education}),(0,l.jsx)(c,{title:"Skills",text:t.skills})]})}function c(e){let{title:t,text:a}=e;return a?(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-lg font-bold mb-2 text-gray-800",children:t}),(0,l.jsx)("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:a})]}):null}function d(e){let{template:t,country:a,role:s}=e,[c,d]=(0,r.useState)({name:"",email:"",phone:"",summary:"",experience:"",education:"",skills:""}),[m,u]=(0,r.useState)(0),[x,h]=(0,r.useState)(!1),p=(0,r.useRef)(null),b=Object.keys(c);async function f(e,t){try{var a;let l=await fetch("http://127.0.0.1:11434/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"mistral",prompt:e,stream:!0})}),r=null===(a=l.body)||void 0===a?void 0:a.getReader();if(!r)throw Error("No reader");let n=new TextDecoder,s="";for(;;){let{done:e,value:a}=await r.read();if(e)break;for(let e of n.decode(a).split("\n").filter(Boolean))try{let a=JSON.parse(e);a.response&&(s+=a.response,t(s))}catch(a){s+=e,t(s)}}}catch(e){console.error("Ollama error:",e),alert("Make sure Ollama is running locally!")}}let g=async()=>{let e=b[m];if(["name","email","phone"].includes(e))return;h(!0);let t="Write a professional ".concat(e," section for a ").concat(s," resume in ").concat(a,". Keep it realistic, concise, and ATS-optimized.");await f(t,t=>d(a=>({...a,[e]:t}))),h(!1)},y=e=>{let t=b[m];d(a=>({...a,[t]:e}))},w=b[m],j=!["name","email","phone"].includes(w);return(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 w-full",children:[(0,l.jsxs)(n.E.div,{className:"p-8 bg-white/5 rounded-2xl backdrop-blur-lg border border-white/10 flex flex-col justify-between",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:["Resume Builder (",a,")"]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 capitalize text-gray-300",children:w}),(0,l.jsx)("textarea",{value:c[w],onChange:e=>y(e.target.value),rows:"summary"===w?5:3,placeholder:"Enter your ".concat(w,"..."),className:"w-full p-4 rounded-xl bg-white/10 text-white border border-white/10 focus:border-cyan-400 focus:outline-none resize-none mb-3"}),(0,l.jsxs)("div",{className:"flex gap-3 mb-4",children:[j&&(0,l.jsxs)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:x,className:"px-5 py-2 rounded-xl bg-gradient-to-r from-fuchsia-500 to-cyan-500 text-sm font-semibold",children:["\uD83D\uDCA1 ",x?"Generating...":"AI Suggest"]}),(0,l.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{p.current&&i()().from(p.current).set({margin:.5,filename:"CopilotX_".concat(s.replace(/\s+/g,"_"),"_Resume.pdf"),html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save()},className:"px-5 py-2 rounded-xl bg-gradient-to-r from-cyan-600 to-blue-500 text-sm font-semibold",children:"\uD83D\uDCC4 Download PDF"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,l.jsx)("button",{onClick:()=>{m>0&&u(m-1)},disabled:0===m,className:"px-5 py-2 rounded-lg text-sm ".concat(0===m?"bg-gray-700 cursor-not-allowed opacity-50":"bg-gradient-to-r from-gray-600 to-gray-500"),children:"⬅ Back"}),(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:["Step ",m+1," of ",b.length]}),(0,l.jsx)("button",{onClick:()=>{m<b.length-1&&u(m+1)},disabled:m===b.length-1,className:"px-5 py-2 rounded-lg text-sm ".concat(m===b.length-1?"bg-gray-700 cursor-not-allowed opacity-50":"bg-gradient-to-r from-cyan-500 to-fuchsia-500"),children:"Next ➡"})]})]}),(0,l.jsx)(n.E.div,{ref:p,className:"p-8 bg-white/10 rounded-2xl backdrop-blur-lg border border-white/10 sticky top-8 h-[85vh] overflow-y-auto",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},children:(0,l.jsx)(o,{resume:c,template:t})})]})}}}]);